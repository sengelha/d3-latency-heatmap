<!DOCTYPE html>
<meta charset="utf-8">
<style>
    body {
        font-family: sans-serif;
        font-size: 12px;
    }

    svg {
        font: 10pt sans-serif;
    }

    .axis path {
        display: none;
    }

    .tick line {
        opacity: 0.2;
        shape-rendering: crispEdges;
        stroke: black;
    }
</style>

<body>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <script src="latency-heatmap.js"></script>

    <h1>Example 1</h1>
    <h2>Basic Usage</h2>
    <div id="example1"></div>
    <script>
        (function() {
            var timeFormat = d3.time.format("%Y-%m");
            var chart = d3.latencyHeatmap()
                .x(function (d) { return timeFormat.parse(d.date); })
                .y(function (d) { return +d.bucket; })
                .count(function (d) { return +d.count; })
                .width(800)
                .height(400);

            d3.csv("example1.csv", function (data) {
                var svg = d3.select("#example1")
                    .datum(data)
                    .call(chart);
            });
        })();
    </script>

    
    <h1>Example 2</h1>
    <h2>Demonstrates log y-axis</h2>
    <h3>From https://bl.ocks.org/jfsiii/b2f067a64995ff401590934531bae947</h3>
    <div id="example2"></div>
    <script>
        (function() {
            var timeFormat = d3.time.format("%Y-%m-%d-%H");
            var chart = d3.latencyHeatmap()
                .x(function (d) { return timeFormat.parse(d.date); })
                .y(function (d) { return +d.bucket; })
                .count(function (d) { return +d.count; })
                .yScale(d3.scale.log().base(10))
                .width(800)
                .height(300);

            d3.csv("example2.csv", function (data) {
                var svg = d3.select("#example2")
                    .datum(data)
                    .call(chart);
            });
        })();
    </script>

    <h1>TODO</h1>
    <ul>
        <li>Fixed-size rectangles</li>
    </ul>
</body>

</html>